<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Valentine‚Äôs Day üíó</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    html,body{height:100%;margin:0;background:#0b0b16}
    body{display:grid;place-items:center;font-family:"Press Start 2P",system-ui}
    .wrap{width:min(900px,95vw);aspect-ratio:9/16;position:relative;border:6px solid #000;border-radius:18px;overflow:hidden;background:#000}
    canvas{width:100%;height:100%;image-rendering:pixelated;display:block}
    .ui{position:absolute;inset:0;pointer-events:none}
    .title{position:absolute;top:22px;left:50%;transform:translateX(-50%);font-size:18px;color:#ff4fa3;text-shadow:2px 2px 0 #000}
    .hint{position:absolute;bottom:78px;left:50%;transform:translateX(-50%);font-size:12px;color:#fff;text-shadow:2px 2px 0 #000;
      padding:10px 14px;border-radius:14px;background:rgba(27,21,48,.55);border:2px solid rgba(255,255,255,.18)}
    .sig{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);display:flex;gap:10px;align-items:center;font-size:14px;color:#fff;text-shadow:2px 2px 0 #000}
    .chip{pointer-events:auto;position:absolute;right:16px;bottom:16px;padding:10px 12px;border-radius:14px;border:2px solid rgba(255,255,255,.2);background:rgba(0,0,0,.35)}
    button{pointer-events:auto;font-family:"Press Start 2P";font-size:10px;border:2px solid #000;background:#fff2fb;color:#000;padding:10px;border-radius:12px;cursor:pointer;box-shadow:2px 2px 0 #000}
    button:active{transform:translate(1px,1px);box-shadow:1px 1px 0 #000}
  </style>
</head>
<body>
<div class="wrap">
  <canvas id="c" width="360" height="640"></canvas>

  <div class="ui">
    <div class="title">Happy Valentine‚Äôs Day</div>
    <div class="hint">Click anywhere to plant flowers üå∏<br/>This field is just for you, Dimi üíó</div>
    <div class="sig"><span style="font-size:18px;">‚ù§Ô∏è</span><span>Love, Bas</span></div>
    <div class="chip"><button id="muteBtn">Mute</button></div>
  </div>
</div>

<script>
(() => {
  const canvas = document.getElementById("c");
  const ctx = canvas.getContext("2d");
  ctx.imageSmoothingEnabled = false;
  const W = canvas.width, H = canvas.height;
  const planted = [];
  let t = 0;

  // Tiny chime (safe)
  let muted = false;
  const AC = new (window.AudioContext||window.webkitAudioContext)();
  function chime(){
    if(muted) return;
    const now = AC.currentTime;
    const o = AC.createOscillator();
    const g = AC.createGain();
    o.type="triangle";
    o.frequency.setValueAtTime(700, now);
    o.frequency.exponentialRampToValueAtTime(980, now+0.08);
    g.gain.setValueAtTime(0.0001, now);
    g.gain.exponentialRampToValueAtTime(0.12, now+0.02);
    g.gain.exponentialRampToValueAtTime(0.0001, now+0.14);
    o.connect(g).connect(AC.destination);
    o.start(now); o.stop(now+0.16);
  }
  document.getElementById("muteBtn").onclick = () => {
    muted = !muted;
    document.getElementById("muteBtn").textContent = muted ? "Unmute" : "Mute";
    chime();
  };

  function pixelCloud(x,y,s){
    const px = 6*s;
    const blocks=[[1,0],[2,0],[3,0],[0,1],[1,1],[2,1],[3,1],[4,1],[1,2],[2,2],[3,2]];
    ctx.fillStyle="#fff";
    blocks.forEach(([bx,by])=>ctx.fillRect(Math.round(x+bx*px),Math.round(y+by*px),px,px));
  }

  function flower(x,y,color){
    ctx.fillStyle="#2fbf4b";
    ctx.fillRect(x+2,y+6,2,14);
    ctx.fillRect(x+1,y+14,4,2);
    ctx.fillStyle=color;
    ctx.fillRect(x+2,y+1,2,2);
    ctx.fillRect(x+0,y+3,2,2);
    ctx.fillRect(x+4,y+3,2,2);
    ctx.fillRect(x+2,y+5,2,2);
    ctx.fillStyle="#ffd24a";
    ctx.fillRect(x+2,y+3,2,2);
  }

  function draw(){
    t++;
    // sky
    const g = ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,"#79b7ff");
    g.addColorStop(1,"#bfe6ff");
    ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

    // moving clouds
    pixelCloud(55 + Math.sin(t/80)*4, 90, 1.0);
    pixelCloud(210 + Math.sin(t/95)*5, 120, 1.2);

    // grass
    const horizon = Math.floor(H*0.36);
    ctx.fillStyle="#155f28"; ctx.fillRect(0,horizon,W,H-horizon);
    ctx.fillStyle="rgba(0,0,0,.12)";
    for(let y=horizon;y<H;y+=18) ctx.fillRect(0,y,W,3);

    // name (simple)
    ctx.fillStyle="#fff";
    ctx.fillRect(70, 340, 220, 6);
    ctx.fillStyle="#ff4fa3";
    ctx.fillText("", 0, 0); // keep font loaded

    // default flowers line
    const colors=["#ff5aa5","#ffd24a","#7fd6ff","#b68cff","#7fff9a"];
    for(let i=0;i<9;i++) flower(60+i*28, 385, colors[i%colors.length]);

    // planted flowers
    planted.forEach(p => flower(p.x,p.y,p.c));

    requestAnimationFrame(draw);
  }
  draw();

  canvas.addEventListener("pointerdown", (e) => {
    if(AC.state==="suspended") AC.resume();
    const rect = canvas.getBoundingClientRect();
    const mx = (e.clientX-rect.left) * (W/rect.width);
    const my = (e.clientY-rect.top)  * (H/rect.height);
    const horizon = Math.floor(H*0.36);
    if(my < horizon+10) return;
    const colors=["#ff5aa5","#ffd24a","#7fd6ff","#b68cff","#7fff9a"];
    planted.push({
      x: Math.max(0, Math.min(W-8, Math.round(mx-4))),
      y: Math.max(horizon+20, Math.min(H-26, Math.round(my-18))),
      c: colors[Math.floor(Math.random()*colors.length)]
    });
    chime();
  });
})();
</script>
</body>
</html>
